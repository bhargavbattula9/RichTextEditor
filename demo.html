<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RichEditor - Full-Featured WYSIWYG Editor Demo</title>
    <meta name="description" content="A free, open-source WYSIWYG rich text editor for web applications. Built with vanilla JavaScript.">
    <meta name="author" content="Bhargav Battula">
    <meta name="version" content="1.0.0">
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 40px 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        
        header h1 {
            font-size: 3rem;
            margin: 0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        header p {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-top: 10px;
        }
        
        .demo-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .demo-section > h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        .demo-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .demo-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .demo-btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .demo-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .demo-btn-secondary {
            background: #f0f0f0;
            color: #333;
        }
        
        .demo-btn-secondary:hover {
            background: #e0e0e0;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature-card {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .feature-card h3 {
            margin: 0 0 10px 0;
            color: #667eea;
        }
        
        .feature-card p {
            margin: 0;
            color: #666;
            font-size: 14px;
        }
        
        .output-section {
            margin-top: 20px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 8px;
        }
        
        .output-section h3 {
            margin-top: 0;
        }
        
        #htmlOutput {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            font-size: 13px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 12px 24px;
            border: none;
            background: #e0e0e0;
            cursor: pointer;
            border-radius: 6px 6px 0 0;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .tab.active {
            background: white;
            color: #667eea;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .config-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .config-item label {
            display: block;
            font-weight: 500;
            margin-bottom: 5px;
            color: #333;
        }
        
        .config-item select,
        .config-item input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            opacity: 0.8;
        }
        
        footer a {
            color: white;
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .demo-section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üñäÔ∏è RichEditor</h1>
            <p>A Full-Featured WYSIWYG Rich Text Editor - Free & Open Source</p>
            <p style="font-size: 0.9rem; margin-top: 5px;">Created by <strong>Bhargav Battula</strong> | Version 1.0.0</p>
        </header>

        <div class="demo-section">
            <h2>Configuration Options</h2>
            <div class="config-panel">
                <div class="config-item">
                    <label>Theme</label>
                    <select id="themeSelect">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                    </select>
                </div>
                <div class="config-item">
                    <label>Height (px)</label>
                    <input type="number" id="heightInput" value="400" min="200" max="800">
                </div>
                <div class="config-item">
                    <label>Placeholder</label>
                    <input type="text" id="placeholderInput" value="Start typing your content here...">
                </div>
                <div class="config-item">
                    <label>Show Menu Bar</label>
                    <select id="menuBarSelect">
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
                <div class="config-item">
                    <label>Show Word Count</label>
                    <select id="wordCountSelect">
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
            </div>
            <button class="demo-btn demo-btn-primary" onclick="reinitEditor()">Apply Configuration</button>
        </div>

        <div class="demo-section">
            <h2>Editor Demo</h2>
            
            <div class="tabs">
                <button class="tab active" onclick="switchTab('editor')">Editor</button>
                <button class="tab" onclick="switchTab('html')">HTML Output</button>
                <button class="tab" onclick="switchTab('api')">API Demo</button>
            </div>

            <div id="editorTab" class="tab-content active">
                <div id="editor"></div>
            </div>

            <div id="htmlTab" class="tab-content">
                <div class="output-section">
                    <h3>Generated HTML</h3>
                    <pre id="htmlOutput"></pre>
                </div>
            </div>

            <div id="apiTab" class="tab-content">
                <h3>API Methods Demo</h3>
                <div class="demo-controls">
                    <button class="demo-btn demo-btn-primary" onclick="apiGetContent()">Get Content</button>
                    <button class="demo-btn demo-btn-primary" onclick="apiGetText()">Get Plain Text</button>
                    <button class="demo-btn demo-btn-primary" onclick="apiGetWordCount()">Get Word Count</button>
                    <button class="demo-btn demo-btn-secondary" onclick="apiSetContent()">Set Sample Content</button>
                    <button class="demo-btn demo-btn-secondary" onclick="apiInsertContent()">Insert at Cursor</button>
                    <button class="demo-btn demo-btn-secondary" onclick="apiClear()">Clear Editor</button>
                    <button class="demo-btn demo-btn-secondary" onclick="apiToggleDisable()">Toggle Disable</button>
                </div>
                <div class="output-section">
                    <h4>API Output:</h4>
                    <pre id="apiOutput" style="background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 4px; min-height: 100px; overflow-x: auto;"></pre>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>‚ú® Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üìù Rich Text Editing</h3>
                    <p>Bold, italic, underline, strikethrough, subscript, superscript and more formatting options.</p>
                </div>
                <div class="feature-card">
                    <h3>üìã Menu Bar</h3>
                    <p>Professional menu bar with Edit, Insert, Format, and Table menus with nested submenus.</p>
                </div>
                <div class="feature-card">
                    <h3>üî§ Font Control</h3>
                    <p>15+ font families (Arial, Georgia, Impact, etc.) and 7 font sizes (8pt-36pt) with standard options.</p>
                </div>
                <div class="feature-card">
                    <h3>‚ÜïÔ∏è Line Height</h3>
                    <p>Adjustable line height (1, 1.15, 1.5, 2, 2.5, 3) for better text spacing control.</p>
                </div>
                <div class="feature-card">
                    <h3>üìä Tables</h3>
                    <p>Easy table insertion with visual grid picker. Insert rows/columns, delete, and manage tables.</p>
                </div>
                <div class="feature-card">
                    <h3>üñºÔ∏è Media Support</h3>
                    <p>Insert images via URL or drag-and-drop. Embed YouTube and Vimeo videos.</p>
                </div>
                <div class="feature-card">
                    <h3>üîó Links</h3>
                    <p>Insert and manage hyperlinks with options for opening in new tabs.</p>
                </div>
                <div class="feature-card">
                    <h3>üé® Colors</h3>
                    <p>Text and background color pickers with preset palette and custom color support.</p>
                </div>
                <div class="feature-card">
                    <h3>üìã Lists</h3>
                    <p>Ordered and unordered lists with indent/outdent support.</p>
                </div>
                <div class="feature-card">
                    <h3>üíª Code Blocks</h3>
                    <p>Syntax-highlighted code blocks and inline code formatting.</p>
                </div>
                <div class="feature-card">
                    <h3>‚Ü©Ô∏è Undo/Redo</h3>
                    <p>Full undo/redo history with keyboard shortcuts (Ctrl+Z, Ctrl+Y).</p>
                </div>
                <div class="feature-card">
                    <h3>üîç Source View</h3>
                    <p>Toggle between WYSIWYG and HTML source code view.</p>
                </div>
                <div class="feature-card">
                    <h3>üìè Word Count</h3>
                    <p>Real-time word and character count in the status bar.</p>
                </div>
                <div class="feature-card">
                    <h3>üñ•Ô∏è Fullscreen</h3>
                    <p>Fullscreen editing mode for distraction-free writing.</p>
                </div>
                <div class="feature-card">
                    <h3>üåô Dark Theme</h3>
                    <p>Built-in light and dark themes with easy customization.</p>
                </div>
                <div class="feature-card">
                    <h3>üì± Responsive</h3>
                    <p>Fully responsive design that works on all screen sizes.</p>
                </div>
                <div class="feature-card">
                    <h3>üîå Plugin System</h3>
                    <p>Extensible architecture with built-in and custom plugins.</p>
                </div>
                <div class="feature-card">
                    <h3>‚å®Ô∏è Keyboard Shortcuts</h3>
                    <p>Full keyboard shortcut support for power users.</p>
                </div>
                <div class="feature-card">
                    <h3>üìã Clean Paste</h3>
                    <p>Intelligent paste handling that cleans up formatting from Word, Google Docs, etc.</p>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>üöÄ Quick Start</h2>
            <pre style="background: #2d2d2d; color: #f8f8f2; padding: 20px; border-radius: 8px; overflow-x: auto;">
<span style="color: #66d9ef;">&lt;!-- Include the script --&gt;</span>
<span style="color: #f92672;">&lt;script</span> <span style="color: #a6e22e;">src</span>=<span style="color: #e6db74;">"richeditor.js"</span><span style="color: #f92672;">&gt;&lt;/script&gt;</span>

<span style="color: #66d9ef;">&lt;!-- Create a container --&gt;</span>
<span style="color: #f92672;">&lt;div</span> <span style="color: #a6e22e;">id</span>=<span style="color: #e6db74;">"my-editor"</span><span style="color: #f92672;">&gt;&lt;/div&gt;</span>

<span style="color: #66d9ef;">&lt;!-- Initialize --&gt;</span>
<span style="color: #f92672;">&lt;script&gt;</span>
<span style="color: #66d9ef;">const</span> editor = <span style="color: #66d9ef;">new</span> <span style="color: #a6e22e;">RichEditor</span>(<span style="color: #e6db74;">'#my-editor'</span>, {
    height: <span style="color: #ae81ff;">400</span>,
    placeholder: <span style="color: #e6db74;">'Start typing...'</span>,
    theme: <span style="color: #e6db74;">'light'</span>,
    plugins: [
        RichEditorPlugins.FindReplace,
        RichEditorPlugins.Emoji,
        RichEditorPlugins.SpecialChars,
        RichEditorPlugins.WordCount
    ],
    events: {
        onChange: (data) => {
            console.log(<span style="color: #e6db74;">'Content changed'</span>, data);
        }
    }
});
<span style="color: #f92672;">&lt;/script&gt;</span></pre>
        </div>

        <div class="demo-section">
            <h2>‚öôÔ∏è Configuration Options</h2>
            <pre style="background: #2d2d2d; color: #f8f8f2; padding: 20px; border-radius: 8px; overflow-x: auto;">
{
    <span style="color: #a6e22e;">height</span>: <span style="color: #ae81ff;">400</span>,                    <span style="color: #75715e;">// Editor height</span>
    <span style="color: #a6e22e;">minHeight</span>: <span style="color: #ae81ff;">200</span>,                 <span style="color: #75715e;">// Minimum height</span>
    <span style="color: #a6e22e;">maxHeight</span>: <span style="color: #ae81ff;">null</span>,                <span style="color: #75715e;">// Maximum height (null = no limit)</span>
    <span style="color: #a6e22e;">width</span>: <span style="color: #e6db74;">'100%'</span>,                 <span style="color: #75715e;">// Editor width</span>
    <span style="color: #a6e22e;">placeholder</span>: <span style="color: #e6db74;">'Start typing...'</span>, <span style="color: #75715e;">// Placeholder text</span>
    <span style="color: #a6e22e;">theme</span>: <span style="color: #e6db74;">'light'</span>,                <span style="color: #75715e;">// 'light' or 'dark'</span>
    <span style="color: #a6e22e;">spellcheck</span>: <span style="color: #ae81ff;">true</span>,              <span style="color: #75715e;">// Enable spell check</span>
    <span style="color: #a6e22e;">showWordCount</span>: <span style="color: #ae81ff;">true</span>,           <span style="color: #75715e;">// Show word/char count</span>
    <span style="color: #a6e22e;">showHtmlCount</span>: <span style="color: #ae81ff;">true</span>,           <span style="color: #75715e;">// Show HTML char count</span>
    <span style="color: #a6e22e;">maxCharacters</span>: <span style="color: #ae81ff;">10000</span>,          <span style="color: #75715e;">// Character limit (0 = no limit)</span>
    <span style="color: #a6e22e;">rtl</span>: <span style="color: #ae81ff;">false</span>,                    <span style="color: #75715e;">// Right-to-left support</span>
    <span style="color: #a6e22e;">initialContent</span>: <span style="color: #e6db74;">''</span>,            <span style="color: #75715e;">// Initial HTML content</span>
    <span style="color: #a6e22e;">disabled</span>: <span style="color: #ae81ff;">false</span>,               <span style="color: #75715e;">// Start in read-only mode</span>
    
    <span style="color: #75715e;">// Paste mode: 'plainText' or 'formattedAndPlainText'</span>
    <span style="color: #a6e22e;">pasteMode</span>: <span style="color: #e6db74;">'plainText'</span>,        <span style="color: #75715e;">// Default paste behavior</span>
    
    <span style="color: #75715e;">// Toolbar configuration</span>
    <span style="color: #a6e22e;">toolbar</span>: [
        [<span style="color: #e6db74;">'undo'</span>, <span style="color: #e6db74;">'redo'</span>],
        [<span style="color: #e6db74;">'formatBlock'</span>],
        [<span style="color: #e6db74;">'bold'</span>, <span style="color: #e6db74;">'italic'</span>, <span style="color: #e6db74;">'underline'</span>],
        <span style="color: #75715e;">// ... more groups</span>
    ],
    
    <span style="color: #75715e;">// Image upload settings</span>
    <span style="color: #a6e22e;">imageUpload</span>: {
        <span style="color: #a6e22e;">enabled</span>: <span style="color: #ae81ff;">true</span>,
        <span style="color: #a6e22e;">maxSize</span>: <span style="color: #ae81ff;">10 * 1024 * 1024</span>,
        <span style="color: #a6e22e;">allowedTypes</span>: [<span style="color: #e6db74;">'image/jpeg'</span>, <span style="color: #e6db74;">'image/png'</span>],
        <span style="color: #a6e22e;">handler</span>: (file, callback) => {
            <span style="color: #75715e;">// Custom upload logic</span>
            callback(imageUrl);
        }
    },
    
    <span style="color: #75715e;">// Auto-save</span>
    <span style="color: #a6e22e;">autoSave</span>: {
        <span style="color: #a6e22e;">enabled</span>: <span style="color: #ae81ff;">false</span>,
        <span style="color: #a6e22e;">interval</span>: <span style="color: #ae81ff;">30000</span>,
        <span style="color: #a6e22e;">key</span>: <span style="color: #e6db74;">'richeditor_autosave'</span>
    },
    
    <span style="color: #75715e;">// Events</span>
    <span style="color: #a6e22e;">events</span>: {
        <span style="color: #a6e22e;">onChange</span>: (data) => {},
        <span style="color: #a6e22e;">onFocus</span>: () => {},
        <span style="color: #a6e22e;">onBlur</span>: () => {},
        <span style="color: #a6e22e;">onInit</span>: (data) => {},
        <span style="color: #a6e22e;">onImageUpload</span>: (data) => {},
        <span style="color: #a6e22e;">onPaste</span>: (data) => {}
    }
}</pre>
        </div>

        <div class="demo-section">
            <h2>üìö API Methods</h2>
            <pre style="background: #2d2d2d; color: #f8f8f2; padding: 20px; border-radius: 8px; overflow-x: auto;">
<span style="color: #75715e;">// Get HTML content</span>
editor.<span style="color: #a6e22e;">getContent</span>();

<span style="color: #75715e;">// Set HTML content</span>
editor.<span style="color: #a6e22e;">setContent</span>(<span style="color: #e6db74;">'&lt;p&gt;Hello World!&lt;/p&gt;'</span>);

<span style="color: #75715e;">// Get plain text</span>
editor.<span style="color: #a6e22e;">getText</span>();

<span style="color: #75715e;">// Insert content at cursor</span>
editor.<span style="color: #a6e22e;">insertContent</span>(<span style="color: #e6db74;">'&lt;strong&gt;Bold text&lt;/strong&gt;'</span>);

<span style="color: #75715e;">// Focus/blur editor</span>
editor.<span style="color: #a6e22e;">focus</span>();
editor.<span style="color: #a6e22e;">blur</span>();

<span style="color: #75715e;">// Check if empty</span>
editor.<span style="color: #a6e22e;">isEmpty</span>();

<span style="color: #75715e;">// Clear content</span>
editor.<span style="color: #a6e22e;">clear</span>();

<span style="color: #75715e;">// Enable/disable</span>
editor.<span style="color: #a6e22e;">enable</span>();
editor.<span style="color: #a6e22e;">disable</span>();
editor.<span style="color: #a6e22e;">isDisabled</span>();

<span style="color: #75715e;">// Paste mode: 'plainText' or 'formattedAndPlainText'</span>
editor.<span style="color: #a6e22e;">setPasteMode</span>(<span style="color: #e6db74;">'formattedAndPlainText'</span>);
editor.<span style="color: #a6e22e;">getPasteMode</span>();

<span style="color: #75715e;">// Get counts</span>
editor.<span style="color: #a6e22e;">getWordCount</span>();
editor.<span style="color: #a6e22e;">getCharCount</span>();

<span style="color: #75715e;">// Change theme</span>
editor.<span style="color: #a6e22e;">setTheme</span>(<span style="color: #e6db74;">'dark'</span>);

<span style="color: #75715e;">// Execute command</span>
editor.<span style="color: #a6e22e;">execCommand</span>(<span style="color: #e6db74;">'bold'</span>);

<span style="color: #75715e;">// Add custom toolbar button</span>
editor.<span style="color: #a6e22e;">addToolbarButton</span>(<span style="color: #e6db74;">'myButton'</span>, {
    <span style="color: #a6e22e;">icon</span>: <span style="color: #e6db74;">'‚≠ê'</span>,
    <span style="color: #a6e22e;">title</span>: <span style="color: #e6db74;">'My Button'</span>,
    <span style="color: #a6e22e;">action</span>: <span style="color: #e6db74;">'myAction'</span>
});

<span style="color: #75715e;">// Destroy editor</span>
editor.<span style="color: #a6e22e;">destroy</span>();</pre>
        </div>

        <footer>
            <p>RichEditor v1.0.0 - MIT License</p>
            <p>A free, open-source alternative to expensive commercial editors</p>
        </footer>
    </div>

    <script src="richeditor.js"></script>
    <script>
        let editor;

        // Initialize editor
        function initEditor(options = {}) {
            const defaultOptions = {
                height: parseInt(document.getElementById('heightInput').value) || 400,
                placeholder: document.getElementById('placeholderInput').value || 'Start typing...',
                theme: document.getElementById('themeSelect').value,
                showWordCount: document.getElementById('wordCountSelect').value === 'true',
                showHtmlCount: true, // Show HTML character count
                showMenuBar: document.getElementById('menuBarSelect').value === 'true',
                maxCharacters: 10000, // Character limit with enforcement
                initialContent: `
                    <h2>Welcome to RichEditor! üéâ</h2>
                    <p>This is a <strong>full-featured</strong> WYSIWYG rich text editor, for web applications but <em>completely free</em>!</p>
                    <h3>Features:</h3>
                    <ul>
                        <li>Rich text formatting (bold, italic, underline, etc.)</li>
                        <li>Professional menu bar (Edit, Insert, Format, Table)</li>
                        <li>15+ fonts and 7 font sizes</li>
                        <li>Line height control</li>
                        <li>Ordered and unordered lists</li>
                        <li>Text alignment options</li>
                        <li>Link and image insertion</li>
                        <li>Table support with row/column management</li>
                        <li>Code blocks</li>
                        <li>And much more!</li>
                    </ul>
                    <p><em>"The best editor is the one that gets out of your way and lets you focus on content."</em></p>
                    <p>Try it out! Select some text and use the toolbar or menu bar above to format it. üëÜ</p>
                    <table>
                        <tr>
                            <th>Feature</th>
                            <th>Status</th>
                        </tr>
                        <tr>
                            <td>Rich Text</td>
                            <td>‚úÖ Complete</td>
                        </tr>
                        <tr>
                            <td>Menu Bar</td>
                            <td>‚úÖ Complete</td>
                        </tr>
                        <tr>
                            <td>Fonts & Sizes</td>
                            <td>‚úÖ Complete</td>
                        </tr>
                        <tr>
                            <td>Line Height</td>
                            <td>‚úÖ Complete</td>
                        </tr>
                        <tr>
                            <td>Tables</td>
                            <td>‚úÖ Complete</td>
                        </tr>
                        <tr>
                            <td>Media</td>
                            <td>‚úÖ Complete</td>
                        </tr>
                    </table>
                `,
                plugins: [
                    RichEditorPlugins.FindReplace,
                    RichEditorPlugins.Emoji,
                    RichEditorPlugins.SpecialChars,
                    RichEditorPlugins.WordCount
                ],
                events: {
                    onChange: (data) => {
                        updateHtmlOutput();
                    },
                    onInit: (data) => {
                        console.log('Editor initialized!', data);
                        updateHtmlOutput();
                    }
                }
            };

            // Destroy existing editor if any
            if (editor) {
                editor.destroy();
            }

            editor = new RichEditor('#editor', { ...defaultOptions, ...options });
        }

        // Reinitialize with new config
        function reinitEditor() {
            initEditor();
        }

        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector(`.tab:nth-child(${tabName === 'editor' ? 1 : tabName === 'html' ? 2 : 3})`).classList.add('active');
            document.getElementById(`${tabName}Tab`).classList.add('active');
            
            if (tabName === 'html') {
                updateHtmlOutput();
            }
        }

        // Update HTML output display
        function updateHtmlOutput() {
            if (editor) {
                const html = editor.getContent();
                document.getElementById('htmlOutput').textContent = formatHTML(html);
            }
        }

        // Format HTML for display
        function formatHTML(html) {
            let formatted = '';
            let indent = 0;
            const tab = '  ';
            
            html = html.replace(/></g, '>\n<');
            
            html.split('\n').forEach(line => {
                line = line.trim();
                if (!line) return;
                
                if (line.match(/^<\/\w/)) {
                    indent = Math.max(0, indent - 1);
                }
                
                formatted += tab.repeat(indent) + line + '\n';
                
                if (line.match(/^<\w[^>]*[^\/]>.*$/) && !line.match(/<.*>.*<\/.*>/)) {
                    if (!line.match(/^<(br|hr|img|input|meta|link)/i)) {
                        indent++;
                    }
                }
            });
            
            return formatted;
        }

        // API Demo functions
        function apiGetContent() {
            const content = editor.getContent();
            document.getElementById('apiOutput').textContent = content;
        }

        function apiGetText() {
            const text = editor.getText();
            document.getElementById('apiOutput').textContent = text;
        }

        function apiGetWordCount() {
            const words = editor.getWordCount();
            const chars = editor.getCharCount();
            document.getElementById('apiOutput').textContent = `Words: ${words}\nCharacters: ${chars}`;
        }

        function apiSetContent() {
            editor.setContent(`
                <h2>New Content Set via API</h2>
                <p>This content was inserted using <code>editor.setContent()</code> method.</p>
                <p>You can set any HTML content programmatically!</p>
            `);
            document.getElementById('apiOutput').textContent = 'Content set successfully!';
        }

        function apiInsertContent() {
            editor.focus();
            editor.insertContent('<span style="color: red; font-weight: bold;">‚≠ê Inserted Text ‚≠ê</span>');
            document.getElementById('apiOutput').textContent = 'Content inserted at cursor position!';
        }

        function apiClear() {
            editor.clear();
            document.getElementById('apiOutput').textContent = 'Editor cleared!';
        }

        function apiToggleDisable() {
            if (editor.isDisabled()) {
                editor.enable();
                document.getElementById('apiOutput').textContent = 'Editor enabled! All controls are now active.';
            } else {
                editor.disable();
                document.getElementById('apiOutput').textContent = 'Editor disabled! Read-only mode activated.';
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initEditor();
        });
    </script>

    <footer>
        <p>
            <strong>RichEditor v1.0.0</strong> | 
            Created with ‚ù§Ô∏è by <strong>Bhargav Battula</strong> | 
            <a href="#">MIT License</a>
        </p>
        <p style="font-size: 0.85rem; margin-top: 5px;">
            A free, open-source WYSIWYG editor. No dependencies. Pure JavaScript.
        </p>
    </footer>
    </div>
</body>
</html>
